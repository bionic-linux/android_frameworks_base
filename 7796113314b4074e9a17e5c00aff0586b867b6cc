{
  "comments": [
    {
      "key": {
        "uuid": "96043066_65750bb2",
        "filename": "services/core/java/com/android/server/ConnectivityService.java",
        "patchSetId": 15
      },
      "lineNbr": 7519,
      "author": {
        "id": 1015428
      },
      "writtenOn": "2020-01-17T00:59:07Z",
      "side": 1,
      "message": "Please do this much earlier to narrow the race condition – immediately in reportNetworkConnectivity. The argument here should be @NonNull.",
      "range": {
        "startLine": 7519,
        "startChar": 11,
        "endLine": 7519,
        "endChar": 38
      },
      "revId": "7796113314b4074e9a17e5c00aff0586b867b6cc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c742108a_89bf6aba",
        "filename": "services/core/java/com/android/server/ConnectivityService.java",
        "patchSetId": 15
      },
      "lineNbr": 7519,
      "author": {
        "id": 1463964
      },
      "writtenOn": "2020-01-21T01:19:56Z",
      "side": 1,
      "message": "Moved to reportNetworkConnectivity.\n\nHowever, is this safe to do? getNetworkAgentInfoForNetwork calls getNetworkAgentInfoForNetId, which synchronizes on mNetworkForNetId. Is that safe to access from reportNetworkConnectivity, which is still on the Binder thread?\n\nAdditionally, this same logic is eventually repeated in InternalHandler for EVENT_REVALIDATE_NETWORK. Should we get the nai in reportNetworkConnectivity and pass it to both?",
      "parentUuid": "96043066_65750bb2",
      "range": {
        "startLine": 7519,
        "startChar": 11,
        "endLine": 7519,
        "endChar": 38
      },
      "revId": "7796113314b4074e9a17e5c00aff0586b867b6cc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "817f0097_1e226857",
        "filename": "services/core/java/com/android/server/ConnectivityService.java",
        "patchSetId": 15
      },
      "lineNbr": 7519,
      "author": {
        "id": 1463964
      },
      "writtenOn": "2020-02-06T15:53:59Z",
      "side": 1,
      "message": "Not relevant now, given that we currently get the NetworkAgentInfo on the NetworkStateTrackerHandler, then pass it to the ConnectivityDiagnosticsHandler.",
      "parentUuid": "c742108a_89bf6aba",
      "range": {
        "startLine": 7519,
        "startChar": 11,
        "endLine": 7519,
        "endChar": 38
      },
      "revId": "7796113314b4074e9a17e5c00aff0586b867b6cc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "024a1735_79896565",
        "filename": "tests/net/java/com/android/server/ConnectivityServiceTest.java",
        "patchSetId": 15
      },
      "lineNbr": 6470,
      "author": {
        "id": 1015428
      },
      "writtenOn": "2020-01-17T00:59:07Z",
      "side": 1,
      "message": "There is a lot of copy-paste involved here again ; can you please try to have less duplicated logic ?",
      "range": {
        "startLine": 6470,
        "startChar": 16,
        "endLine": 6470,
        "endChar": 73
      },
      "revId": "7796113314b4074e9a17e5c00aff0586b867b6cc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "970af19c_78215c10",
        "filename": "tests/net/java/com/android/server/ConnectivityServiceTest.java",
        "patchSetId": 15
      },
      "lineNbr": 6470,
      "author": {
        "id": 1463964
      },
      "writtenOn": "2020-01-21T01:19:56Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "024a1735_79896565",
      "range": {
        "startLine": 6470,
        "startChar": 16,
        "endLine": 6470,
        "endChar": 73
      },
      "revId": "7796113314b4074e9a17e5c00aff0586b867b6cc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}