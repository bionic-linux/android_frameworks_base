{
  "comments": [
    {
      "key": {
        "uuid": "28901cb9_55e8df78",
        "filename": "/COMMIT_MSG",
        "patchSetId": 5
      },
      "lineNbr": 10,
      "author": {
        "id": 1306837
      },
      "writtenOn": "2019-07-24T02:38:29Z",
      "side": 1,
      "message": "w/ ?",
      "range": {
        "startLine": 10,
        "startChar": 56,
        "endLine": 10,
        "endChar": 57
      },
      "revId": "c42ebc90e4ad5209521c4d6b37dc935d37482c8d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b34b9bc1_795f075f",
        "filename": "tests/net/integration/src/com/android/server/net/integrationtests/ConnectivityServiceIntegrationTest.kt",
        "patchSetId": 5
      },
      "lineNbr": 116,
      "author": {
        "id": 1304263
      },
      "writtenOn": "2019-07-17T08:18:49Z",
      "side": 1,
      "message": "This reminds me that we miss Opportunistic mode. Do we like to also test that? Other commit is fine to me.",
      "range": {
        "startLine": 113,
        "startChar": 4,
        "endLine": 116,
        "endChar": 60
      },
      "revId": "c42ebc90e4ad5209521c4d6b37dc935d37482c8d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fd93c0b6_8b2c52d8",
        "filename": "tests/net/integration/src/com/android/server/net/integrationtests/ConnectivityServiceIntegrationTest.kt",
        "patchSetId": 5
      },
      "lineNbr": 116,
      "author": {
        "id": 1306837
      },
      "writtenOn": "2019-07-24T02:38:29Z",
      "side": 1,
      "message": "Given that there is only 1 user for noPrivateDnsConfig,\n maybe we don\u0027t need this variable?",
      "range": {
        "startLine": 116,
        "startChar": 16,
        "endLine": 116,
        "endChar": 34
      },
      "revId": "c42ebc90e4ad5209521c4d6b37dc935d37482c8d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f52fde20_2977d10f",
        "filename": "tests/net/integration/src/com/android/server/net/integrationtests/ConnectivityServiceIntegrationTest.kt",
        "patchSetId": 5
      },
      "lineNbr": 175,
      "author": {
        "id": 1304263
      },
      "writtenOn": "2019-07-17T08:18:49Z",
      "side": 1,
      "message": "Should we do Looper.quit() in @After instead of doing so?\nThe doc of Looper says that \"Be sure to call after calling this method, and end it by calling\nquit().\"\n\nFurthermore, probably need Looper.quitSafely()",
      "range": {
        "startLine": 173,
        "startChar": 8,
        "endLine": 175,
        "endChar": 9
      },
      "revId": "c42ebc90e4ad5209521c4d6b37dc935d37482c8d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d3477434_0db15716",
        "filename": "tests/net/integration/src/com/android/server/net/integrationtests/ConnectivityServiceIntegrationTest.kt",
        "patchSetId": 5
      },
      "lineNbr": 175,
      "author": {
        "id": 1015428
      },
      "writtenOn": "2019-08-06T07:37:11Z",
      "side": 1,
      "message": "I don\u0027t think that would work ; the looper is dead after you call quitSafely and you can\u0027t recreate it. The fact that Paul needs to call this means he\u0027s being called twice, but on the same thread, so it would just crash.\n\nHowever, it may be reasonable to call prepare() in the constructor for this class instead of doing this ? I don\u0027t think it\u0027s contractual that myLooper() returns null when prepare() hasn\u0027t been called.",
      "parentUuid": "f52fde20_2977d10f",
      "range": {
        "startLine": 173,
        "startChar": 8,
        "endLine": 175,
        "endChar": 9
      },
      "revId": "c42ebc90e4ad5209521c4d6b37dc935d37482c8d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a4d1d5d6_0a402926",
        "filename": "tests/net/integration/src/com/android/server/net/integrationtests/ConnectivityServiceIntegrationTest.kt",
        "patchSetId": 5
      },
      "lineNbr": 203,
      "author": {
        "id": 1304263
      },
      "writtenOn": "2019-07-17T08:18:49Z",
      "side": 1,
      "message": "I think this may not acutally call validated since it\u0027s not the criteria of validation. How about just AddMockDnsResponses or AddFakeDnsResponses?",
      "range": {
        "startLine": 203,
        "startChar": 19,
        "endLine": 203,
        "endChar": 28
      },
      "revId": "c42ebc90e4ad5209521c4d6b37dc935d37482c8d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fa80c517_c75a88d2",
        "filename": "tests/net/integration/src/com/android/server/net/integrationtests/ConnectivityServiceIntegrationTest.kt",
        "patchSetId": 5
      },
      "lineNbr": 203,
      "author": {
        "id": 1306837
      },
      "writtenOn": "2019-07-24T02:38:29Z",
      "side": 1,
      "message": "Given that we are focusing on mock and add is the implementation detail, maybe mockTestDnsResponses? No strong opinion.",
      "parentUuid": "a4d1d5d6_0a402926",
      "range": {
        "startLine": 203,
        "startChar": 19,
        "endLine": 203,
        "endChar": 28
      },
      "revId": "c42ebc90e4ad5209521c4d6b37dc935d37482c8d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "474cf866_eed01fa4",
        "filename": "tests/net/integration/src/com/android/server/net/integrationtests/ConnectivityServiceIntegrationTest.kt",
        "patchSetId": 5
      },
      "lineNbr": 210,
      "author": {
        "id": 1306837
      },
      "writtenOn": "2019-07-24T02:38:29Z",
      "side": 1,
      "message": "how about mockValidatedResponses or mockValidatedHttpResponses?",
      "range": {
        "startLine": 210,
        "startChar": 16,
        "endLine": 210,
        "endChar": 41
      },
      "revId": "c42ebc90e4ad5209521c4d6b37dc935d37482c8d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5a910b32_59c9c083",
        "filename": "tests/net/integration/src/com/android/server/net/integrationtests/ConnectivityServiceIntegrationTest.kt",
        "patchSetId": 5
      },
      "lineNbr": 210,
      "author": {
        "id": 1288034
      },
      "writtenOn": "2019-07-24T06:38:17Z",
      "side": 1,
      "message": "I actually had the opposite comment I think :-) I prefer add because calling this method twice adds the responses twice, instead of just re-mocking.",
      "parentUuid": "474cf866_eed01fa4",
      "range": {
        "startLine": 210,
        "startChar": 16,
        "endLine": 210,
        "endChar": 41
      },
      "revId": "c42ebc90e4ad5209521c4d6b37dc935d37482c8d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ef17f1b6_8bcfbda5",
        "filename": "tests/net/integration/src/com/android/server/net/integrationtests/ConnectivityServiceIntegrationTest.kt",
        "patchSetId": 5
      },
      "lineNbr": 237,
      "author": {
        "id": 1304263
      },
      "writtenOn": "2019-07-17T08:18:49Z",
      "side": 1,
      "message": "Not for this commit. We may also have a test to test NetworkAgent w/o Internet capabilities to verify how the validation flow proceeded.",
      "range": {
        "startLine": 236,
        "startChar": 8,
        "endLine": 237,
        "endChar": 20
      },
      "revId": "c42ebc90e4ad5209521c4d6b37dc935d37482c8d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8cdbd1ad_d9ec1a53",
        "filename": "tests/net/integration/src/com/android/server/net/integrationtests/ConnectivityServiceIntegrationTest.kt",
        "patchSetId": 5
      },
      "lineNbr": 250,
      "author": {
        "id": 1015428
      },
      "writtenOn": "2019-08-06T07:37:11Z",
      "side": 1,
      "message": "I don\u0027t think you need to write \"this.\" explicitly",
      "range": {
        "startLine": 250,
        "startChar": 12,
        "endLine": 250,
        "endChar": 16
      },
      "revId": "c42ebc90e4ad5209521c4d6b37dc935d37482c8d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a41ca255_8ee54fe2",
        "filename": "tests/net/integration/src/com/android/server/net/integrationtests/ConnectivityServiceIntegrationTest.kt",
        "patchSetId": 5
      },
      "lineNbr": 261,
      "author": {
        "id": 1288034
      },
      "writtenOn": "2019-07-17T05:59:19Z",
      "side": 1,
      "message": "I feel this should be in a separate test, if it does not share state with what\u0027s above (in particular it clears state between the two)\nHow about moving it to a validationTest_WithPrivateDns ?",
      "range": {
        "startLine": 254,
        "startChar": 1,
        "endLine": 261,
        "endChar": 9
      },
      "revId": "c42ebc90e4ad5209521c4d6b37dc935d37482c8d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d2dd39e1_5795625c",
        "filename": "tests/net/integration/src/com/android/server/net/integrationtests/ConnectivityServiceIntegrationTest.kt",
        "patchSetId": 5
      },
      "lineNbr": 261,
      "author": {
        "id": 1015428
      },
      "writtenOn": "2019-08-06T07:37:11Z",
      "side": 1,
      "message": "+1",
      "parentUuid": "a41ca255_8ee54fe2",
      "range": {
        "startLine": 254,
        "startChar": 1,
        "endLine": 261,
        "endChar": 9
      },
      "revId": "c42ebc90e4ad5209521c4d6b37dc935d37482c8d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "76f63125_45d4531a",
        "filename": "tests/net/integration/src/com/android/server/net/integrationtests/DnsResponse.kt",
        "patchSetId": 5
      },
      "lineNbr": 22,
      "author": {
        "id": 1306837
      },
      "writtenOn": "2019-07-24T02:38:29Z",
      "side": 1,
      "message": "Given that this is data class, \ncan we use structured parcelable instead?",
      "range": {
        "startLine": 22,
        "startChar": 11,
        "endLine": 22,
        "endChar": 22
      },
      "revId": "c42ebc90e4ad5209521c4d6b37dc935d37482c8d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "66012b8b_64580bc0",
        "filename": "tests/net/integration/src/com/android/server/net/integrationtests/NetworkStackInstrumentationConnector.kt",
        "patchSetId": 5
      },
      "lineNbr": 35,
      "author": {
        "id": 1015428
      },
      "writtenOn": "2019-08-06T07:37:11Z",
      "side": 1,
      "message": "These are not URLs right ? It\u0027s just hostnames.\n\nAlso this is write-only in this change. I suggest you either remove this member or have an accessor like getRequestUrls for the remote side to check.",
      "range": {
        "startLine": 35,
        "startChar": 26,
        "endLine": 35,
        "endChar": 30
      },
      "revId": "c42ebc90e4ad5209521c4d6b37dc935d37482c8d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ad426855_1e1a99ab",
        "filename": "tests/net/integration/src/com/android/server/net/integrationtests/NetworkStackInstrumentationConnector.kt",
        "patchSetId": 5
      },
      "lineNbr": 85,
      "author": {
        "id": 1015428
      },
      "writtenOn": "2019-08-06T07:37:11Z",
      "side": 1,
      "message": "DNS normally does not reply different things in response to the same request normally (at least, not in the time scales involved in our tests). I do get it\u0027s not impossible, and that we might want to test for this, and also that this is simply more powerful.\n\nSo I think this needs a comment about how implementations need to call this multiple times if they expect multiple DNS queries on the same name – most implementors would probably expect to add this once and be able to query multiple times.",
      "range": {
        "startLine": 85,
        "startChar": 17,
        "endLine": 85,
        "endChar": 31
      },
      "revId": "c42ebc90e4ad5209521c4d6b37dc935d37482c8d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b3d479a5_d4f16d77",
        "filename": "tests/net/integration/src/com/android/server/net/integrationtests/TestNetworkStackService.kt",
        "patchSetId": 5
      },
      "lineNbr": 47,
      "author": {
        "id": 1304263
      },
      "writtenOn": "2019-07-17T08:18:49Z",
      "side": 1,
      "message": "Not for this commit. If this is an integration test, I think it should try as possible to test and follow the flow in ConnectivityServices. Thus, probably we should assign the id larger than 100. But it does not really important though since the NetId assignment is inside ConnectivityService. If it\u0027s needed, maybe it only need to test in ConnectivityServiceTest.",
      "range": {
        "startLine": 47,
        "startChar": 31,
        "endLine": 47,
        "endChar": 33
      },
      "revId": "c42ebc90e4ad5209521c4d6b37dc935d37482c8d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e68401f9_c4912f3b",
        "filename": "tests/net/integration/src/com/android/server/net/integrationtests/TestNetworkStackService.kt",
        "patchSetId": 5
      },
      "lineNbr": 71,
      "author": {
        "id": 1304263
      },
      "writtenOn": "2019-07-17T08:18:49Z",
      "side": 1,
      "message": "Nit: how about \"resolver\"? dnsr looks not a clear naming for me.",
      "range": {
        "startLine": 71,
        "startChar": 79,
        "endLine": 71,
        "endChar": 83
      },
      "revId": "c42ebc90e4ad5209521c4d6b37dc935d37482c8d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fbad26e4_c3000aaf",
        "filename": "tests/net/integration/src/com/android/server/net/integrationtests/TestNetworkStackService.kt",
        "patchSetId": 5
      },
      "lineNbr": 71,
      "author": {
        "id": 1015428
      },
      "writtenOn": "2019-08-06T07:37:11Z",
      "side": 1,
      "message": "Why \u0027val\u0027 here ? This makes it a public property.\nAlso, sorry to impose but can you take the opportunity to also remove the \u0027val\u0027 from privateDnsBypassNetwork ?",
      "range": {
        "startLine": 71,
        "startChar": 75,
        "endLine": 71,
        "endChar": 78
      },
      "revId": "c42ebc90e4ad5209521c4d6b37dc935d37482c8d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "02d6a93b_efc45cc3",
        "filename": "tests/net/integration/src/com/android/server/net/integrationtests/TestNetworkStackService.kt",
        "patchSetId": 5
      },
      "lineNbr": 102,
      "author": {
        "id": 1304263
      },
      "writtenOn": "2019-07-17T08:18:49Z",
      "side": 1,
      "message": "This should be able to use FakeDns after integrating FakeDns and NetworkMonitorTest.",
      "range": {
        "startLine": 98,
        "startChar": 8,
        "endLine": 102,
        "endChar": 9
      },
      "revId": "c42ebc90e4ad5209521c4d6b37dc935d37482c8d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "777b615c_9bd30a19",
        "filename": "tests/net/integration/src/com/android/server/net/integrationtests/TestNetworkStackService.kt",
        "patchSetId": 5
      },
      "lineNbr": 111,
      "author": {
        "id": 1304263
      },
      "writtenOn": "2019-07-17T08:18:49Z",
      "side": 1,
      "message": "Do you need to override it? You should only need to set the answer. The override looks redundant to me.",
      "range": {
        "startLine": 107,
        "startChar": 11,
        "endLine": 111,
        "endChar": 13
      },
      "revId": "c42ebc90e4ad5209521c4d6b37dc935d37482c8d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    }
  ]
}