{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "651f4a5e_92e31c94",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 7,
      "author": {
        "id": 1306837
      },
      "writtenOn": "2020-10-22T09:53:54Z",
      "side": 1,
      "message": "style: too long for a line.",
      "range": {
        "startLine": 7,
        "startChar": 57,
        "endLine": 7,
        "endChar": 75
      },
      "revId": "10f6a5c6a48c5c69d374dabed022e2f92b42e93c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "576c5e3f_128efd6b",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 7,
      "author": {
        "id": 1385042
      },
      "writtenOn": "2020-10-22T14:59:26Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "651f4a5e_92e31c94",
      "range": {
        "startLine": 7,
        "startChar": 57,
        "endLine": 7,
        "endChar": 75
      },
      "revId": "10f6a5c6a48c5c69d374dabed022e2f92b42e93c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "777da13f_fe41c3eb",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 19,
      "author": {
        "id": 1306837
      },
      "writtenOn": "2020-10-22T09:53:54Z",
      "side": 1,
      "message": "redundant change-id",
      "range": {
        "startLine": 19,
        "startChar": 0,
        "endLine": 19,
        "endChar": 52
      },
      "revId": "10f6a5c6a48c5c69d374dabed022e2f92b42e93c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "6c224638_eaaa0c52",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 19,
      "author": {
        "id": 1385042
      },
      "writtenOn": "2020-10-22T14:59:26Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "777da13f_fe41c3eb",
      "range": {
        "startLine": 19,
        "startChar": 0,
        "endLine": 19,
        "endChar": 52
      },
      "revId": "10f6a5c6a48c5c69d374dabed022e2f92b42e93c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "17fe5504_dc7957c6",
        "filename": "services/core/java/com/android/server/net/NetworkStatsService.java",
        "patchSetId": 1
      },
      "lineNbr": 2045,
      "author": {
        "id": 1306837
      },
      "writtenOn": "2020-10-22T09:53:54Z",
      "side": 1,
      "message": "IIUC this could still be static if we pass service into the constructor.",
      "range": {
        "startLine": 2045,
        "startChar": 11,
        "endLine": 2045,
        "endChar": 12
      },
      "revId": "10f6a5c6a48c5c69d374dabed022e2f92b42e93c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4138efc3_2e62c408",
        "filename": "services/core/java/com/android/server/net/NetworkStatsService.java",
        "patchSetId": 1
      },
      "lineNbr": 2045,
      "author": {
        "id": 1385042
      },
      "writtenOn": "2020-10-22T14:59:26Z",
      "side": 1,
      "message": "Done. No experience in addressing this kind of problem by the way you suggest. Please take a look if this is what you want.",
      "parentUuid": "17fe5504_dc7957c6",
      "range": {
        "startLine": 2045,
        "startChar": 11,
        "endLine": 2045,
        "endChar": 12
      },
      "revId": "10f6a5c6a48c5c69d374dabed022e2f92b42e93c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8b23e529_2e2fb1c2",
        "filename": "services/core/java/com/android/server/net/NetworkStatsService.java",
        "patchSetId": 1
      },
      "lineNbr": 2109,
      "author": {
        "id": 1306837
      },
      "writtenOn": "2020-10-28T11:53:50Z",
      "side": 1,
      "message": "Sorry for any unclear instructions.\nI just realized several steps are missing in this patch.\nAs you might already know, the biggest concern is we don\u0027t want to pay performance impact by calling performPoll.\nIf you recall what\u0027s inside the design doc, to reduce the performance impact, we need to decouple provider stats with others first. And only record that part into recorders in this function.\nIIUC currently we are still querying all snapshots in this function, which is incorrect and would cause heavy loading on the system.",
      "range": {
        "startLine": 2109,
        "startChar": 20,
        "endLine": 2109,
        "endChar": 36
      },
      "revId": "10f6a5c6a48c5c69d374dabed022e2f92b42e93c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4f1f0800_53afb292",
        "filename": "services/core/java/com/android/server/net/NetworkStatsService.java",
        "patchSetId": 1
      },
      "lineNbr": 2109,
      "author": {
        "id": 1385042
      },
      "writtenOn": "2020-11-17T15:57:50Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "8b23e529_2e2fb1c2",
      "range": {
        "startLine": 2109,
        "startChar": 20,
        "endLine": 2109,
        "endChar": 36
      },
      "revId": "10f6a5c6a48c5c69d374dabed022e2f92b42e93c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f0dc0bc8_6fc27e7b",
        "filename": "services/core/java/com/android/server/net/NetworkStatsService.java",
        "patchSetId": 1
      },
      "lineNbr": 2110,
      "author": {
        "id": 1306837
      },
      "writtenOn": "2020-10-28T11:53:50Z",
      "side": 1,
      "message": "1. Since the stats are actually updated, it looks to me that we need to send MSG_BROADCAST_NETWORK_STATS_UPDATED and calls performSampleLocked as what is done when performPollLocked is called.\nIf yes, IIUC it might need to be rate limited for safety.\n\n2. What do we do if there is actually no diff at all?",
      "range": {
        "startLine": 2110,
        "startChar": 16,
        "endLine": 2110,
        "endChar": 17
      },
      "revId": "10f6a5c6a48c5c69d374dabed022e2f92b42e93c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "673daa06_16aac30d",
        "filename": "services/core/java/com/android/server/net/NetworkStatsService.java",
        "patchSetId": 1
      },
      "lineNbr": 2110,
      "author": {
        "id": 1385042
      },
      "writtenOn": "2020-11-17T15:57:50Z",
      "side": 1,
      "message": "Refactor to record stats to recorder directly.\n1. For the rate limited, we decided it can be addressed in follow-up patch but feel free to let me know if you think it\u0027s better to address in this CL.\n\n2. It will skip if there\u0027s no diff occured.\nhttps://android-review.googlesource.com/c/platform/frameworks/base/+/1433921/14/services/core/java/com/android/server/net/NetworkStatsRecorder.java#240",
      "parentUuid": "f0dc0bc8_6fc27e7b",
      "range": {
        "startLine": 2110,
        "startChar": 16,
        "endLine": 2110,
        "endChar": 17
      },
      "revId": "10f6a5c6a48c5c69d374dabed022e2f92b42e93c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "322970ab_0a7e86e4",
        "filename": "services/core/java/com/android/server/net/NetworkStatsService.java",
        "patchSetId": 1
      },
      "lineNbr": 2110,
      "author": {
        "id": 1306837
      },
      "writtenOn": "2020-11-26T07:19:14Z",
      "side": 1,
      "message": "SGTM\nFor 1, for integrity, I think todo is needed in this patch.",
      "parentUuid": "673daa06_16aac30d",
      "range": {
        "startLine": 2110,
        "startChar": 16,
        "endLine": 2110,
        "endChar": 17
      },
      "revId": "10f6a5c6a48c5c69d374dabed022e2f92b42e93c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9b6daa97_2446750f",
        "filename": "services/core/java/com/android/server/net/NetworkStatsService.java",
        "patchSetId": 1
      },
      "lineNbr": 2110,
      "author": {
        "id": 1385042
      },
      "writtenOn": "2020-12-02T11:37:13Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "322970ab_0a7e86e4",
      "range": {
        "startLine": 2110,
        "startChar": 16,
        "endLine": 2110,
        "endChar": 17
      },
      "revId": "10f6a5c6a48c5c69d374dabed022e2f92b42e93c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0984c24f_049dc330",
        "filename": "tests/net/java/com/android/server/net/NetworkStatsServiceTest.java",
        "patchSetId": 1
      },
      "lineNbr": 1170,
      "author": {
        "id": 1306837
      },
      "writtenOn": "2020-10-22T09:53:54Z",
      "side": 1,
      "message": "IIUC this can be removed.",
      "range": {
        "startLine": 1170,
        "startChar": 7,
        "endLine": 1170,
        "endChar": 34
      },
      "revId": "10f6a5c6a48c5c69d374dabed022e2f92b42e93c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "28345ed6_301e4d01",
        "filename": "tests/net/java/com/android/server/net/NetworkStatsServiceTest.java",
        "patchSetId": 1
      },
      "lineNbr": 1170,
      "author": {
        "id": 1385042
      },
      "writtenOn": "2020-10-22T14:59:26Z",
      "side": 1,
      "message": "Yes, but I think it would be closer to current behavior with this. Keep it but I can remove it if you still think we don\u0027t need this.",
      "parentUuid": "0984c24f_049dc330",
      "range": {
        "startLine": 1170,
        "startChar": 7,
        "endLine": 1170,
        "endChar": 34
      },
      "revId": "10f6a5c6a48c5c69d374dabed022e2f92b42e93c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "571258d4_6b10dbea",
        "filename": "tests/net/java/com/android/server/net/NetworkStatsServiceTest.java",
        "patchSetId": 1
      },
      "lineNbr": 1170,
      "author": {
        "id": 1306837
      },
      "writtenOn": "2020-10-28T11:53:50Z",
      "side": 1,
      "message": "We have to make sure old code couldn\u0027t pass new test, right?\nSo I think we need to remove it.\nBut IIUC we\u0027ll fail at l.1173.",
      "parentUuid": "28345ed6_301e4d01",
      "range": {
        "startLine": 1170,
        "startChar": 7,
        "endLine": 1170,
        "endChar": 34
      },
      "revId": "10f6a5c6a48c5c69d374dabed022e2f92b42e93c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "26ff106d_2c22efab",
        "filename": "tests/net/java/com/android/server/net/NetworkStatsServiceTest.java",
        "patchSetId": 1
      },
      "lineNbr": 1170,
      "author": {
        "id": 1385042
      },
      "writtenOn": "2020-11-17T15:57:50Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "571258d4_6b10dbea",
      "range": {
        "startLine": 1170,
        "startChar": 7,
        "endLine": 1170,
        "endChar": 34
      },
      "revId": "10f6a5c6a48c5c69d374dabed022e2f92b42e93c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}