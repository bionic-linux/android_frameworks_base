{
  "comments": [
    {
      "key": {
        "uuid": "5d72561b_669e257d",
        "filename": "/COMMIT_MSG",
        "patchSetId": 8
      },
      "lineNbr": 10,
      "author": {
        "id": 1306837
      },
      "writtenOn": "2019-11-20T06:26:47Z",
      "side": 1,
      "message": "nit: maybe remove this.",
      "range": {
        "startLine": 9,
        "startChar": 0,
        "endLine": 10,
        "endChar": 7
      },
      "revId": "44437ee9440e811c4360f872b2063287bf2e0f4e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "eebb5ce1_ed410062",
        "filename": "services/core/java/com/android/server/ConnectivityService.java",
        "patchSetId": 8
      },
      "lineNbr": 6396,
      "author": {
        "id": 1306837
      },
      "writtenOn": "2019-11-20T06:26:47Z",
      "side": 1,
      "message": "question: Considering l.6493, is this redundant?",
      "range": {
        "startLine": 6396,
        "startChar": 20,
        "endLine": 6396,
        "endChar": 86
      },
      "revId": "44437ee9440e811c4360f872b2063287bf2e0f4e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e6ca5227_af662315",
        "filename": "services/core/java/com/android/server/ConnectivityService.java",
        "patchSetId": 8
      },
      "lineNbr": 6396,
      "author": {
        "id": 1015428
      },
      "writtenOn": "2019-11-20T11:42:55Z",
      "side": 1,
      "message": "No, this is absolutely required. This sets up the state in NetworkAgentInfo that updateLingerState will read from.\n\nIt\u0027s a bit confusing but here is how this happens :\n\npreviousSatisfier.lingerRequest() (NetworkAgentInfo#lingerRequest) will add an entry in previousSatisfier.mLingerTimers(:SortedSet) and .mLingerTimerForRequest(:SparseArray) with the id of this request.\n\nIn l.6493, updateLingerState will read mLingerTimers.last() and reschedule the message for that time.",
      "parentUuid": "eebb5ce1_ed410062",
      "range": {
        "startLine": 6396,
        "startChar": 20,
        "endLine": 6396,
        "endChar": 86
      },
      "revId": "44437ee9440e811c4360f872b2063287bf2e0f4e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7f9df2f8_bd79ed76",
        "filename": "services/core/java/com/android/server/ConnectivityService.java",
        "patchSetId": 8
      },
      "lineNbr": 6396,
      "author": {
        "id": 1308163
      },
      "writtenOn": "2019-11-20T12:00:08Z",
      "side": 1,
      "message": "I think they are doing different things.\nFrom my point of view, NetworkAgentInfo#lingerRequest() is doing something like silent lingering.\nAfter the new network told the world that it is available, updateLingerState() will update linger timer of the old network and re-schedule the EVENT_NETWORK_LINGER_COMPLETE then double check if the old network is really unneeded.\nIf there is someone(network request) needs the old network, then cancel the linger.\nIf there is no one cares about the old network, then fire the losing callback and wait for the linger timer expired.",
      "parentUuid": "eebb5ce1_ed410062",
      "range": {
        "startLine": 6396,
        "startChar": 20,
        "endLine": 6396,
        "endChar": 86
      },
      "revId": "44437ee9440e811c4360f872b2063287bf2e0f4e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "00cb73ee_676fc2bc",
        "filename": "services/core/java/com/android/server/ConnectivityService.java",
        "patchSetId": 8
      },
      "lineNbr": 6396,
      "author": {
        "id": 1306837
      },
      "writtenOn": "2019-11-21T03:38:44Z",
      "side": 1,
      "message": "Ack, thanks for explanations.",
      "parentUuid": "7f9df2f8_bd79ed76",
      "range": {
        "startLine": 6396,
        "startChar": 20,
        "endLine": 6396,
        "endChar": 86
      },
      "revId": "44437ee9440e811c4360f872b2063287bf2e0f4e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "df960e6c_bc216546",
        "filename": "services/core/java/com/android/server/ConnectivityService.java",
        "patchSetId": 8
      },
      "lineNbr": 6401,
      "author": {
        "id": 1306837
      },
      "writtenOn": "2019-11-20T06:26:47Z",
      "side": 1,
      "message": "question: Considering l.6498, is this redundant?",
      "range": {
        "startLine": 6401,
        "startChar": 16,
        "endLine": 6401,
        "endChar": 58
      },
      "revId": "44437ee9440e811c4360f872b2063287bf2e0f4e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e24c2eaa_db46cc4b",
        "filename": "services/core/java/com/android/server/ConnectivityService.java",
        "patchSetId": 8
      },
      "lineNbr": 6401,
      "author": {
        "id": 1015428
      },
      "writtenOn": "2019-11-20T11:42:55Z",
      "side": 1,
      "message": "Same thing.",
      "parentUuid": "df960e6c_bc216546",
      "range": {
        "startLine": 6401,
        "startChar": 16,
        "endLine": 6401,
        "endChar": 58
      },
      "revId": "44437ee9440e811c4360f872b2063287bf2e0f4e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}